{"version":3,"file":"js/6036.d195d38d.js","mappings":"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","sources":["webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue","webpack://@openeo/web-editor/src/components/datatypes/SelectBox.vue","webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue?ff2a","webpack://@openeo/web-editor/./src/components/datatypes/SelectBox.vue?8dc4","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseReducer.vue","webpack://@openeo/web-editor/src/components/wizards/tabs/ChooseReducer.vue","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseReducer.vue?bf71","webpack://@openeo/web-editor/./src/components/wizards/tabs/ChooseReducer.vue?822a","webpack://@openeo/web-editor/./src/components/datatypes/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"select-container\"},[(_vm.loaded)?[_c('MultiSelect',{key:_vm.type,ref:\"htmlElement\",attrs:{\"label\":\"label\",\"track-by\":\"id\",\"multiple\":_vm.multiple,\"options\":_vm.selectOptions,\"allowEmpty\":false,\"preselectFirst\":_vm.preselect,\"disabled\":!_vm.editable,\"deselectLabel\":_vm.deselectLabel,\"taggable\":_vm.taggable,\"tagPlaceholder\":_vm.tagPlaceholder,\"openDirection\":_vm.openDirection},on:{\"tag\":_vm.addValue},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),(_vm.showDetails)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Details\"},on:{\"click\":function($event){return _vm.$emit('onDetails')}}},[_c('i',{staticClass:\"fas fa-info\"})]):_vm._e()]:_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_vm._v(\" Loading options...\")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"select-container\">\n\t\t<template v-if=\"loaded\">\n\t\t\t<MultiSelect v-model=\"selected\" :key=\"type\" ref=\"htmlElement\" label=\"label\" track-by=\"id\" :multiple=\"multiple\" :options=\"selectOptions\" :allowEmpty=\"false\" :preselectFirst=\"preselect\" :disabled=\"!editable\" :deselectLabel=\"deselectLabel\" :taggable=\"taggable\" :tagPlaceholder=\"tagPlaceholder\" :openDirection=\"openDirection\" @tag=\"addValue\"></MultiSelect>\n\t\t\t<button v-if=\"showDetails\" type=\"button\" title=\"Details\" @click=\"$emit('onDetails')\"><i class=\"fas fa-info\"></i></button>\n\t\t</template>\n\t\t<div class=\"loading\" v-else><i class=\"fas fa-spinner fa-spin\"></i> Loading options...</div>\n\t</div>\n</template>\n\n<script>\nimport MultiSelect from 'vue-multiselect'\nimport Utils from '../../utils';\n\nexport default {\n\tname: 'SelectBox',\n\tcomponents: {\n\t\tMultiSelect\n\t},\n\tprops: {\n\t\tvalue: {},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\teditable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\toptions: {\n\t\t\ttype: [Array, Object]\n\t\t},\n\t\tschema: {\n\t\t\ttype: Object\n\t\t},\n\t\tcontext: {},\n\t\toptionFilter: {\n\t\t\ttype: Function,\n\t\t\tdefault: null\n\t\t},\n\t\topenDirection: {\n\t\t\ttype: String,\n\t\t\tdefault: 'auto'\n\t\t}\n\t},\n\tcomputed: {\n\t\tselectOptions() {\n\t\t\tlet state = [];\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'band-name':\n\t\t\t\t\tlet collection = this.$store.state.collections.find(c => c.id == this.context);\n\t\t\t\t\tif (Utils.isObject(collection)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tstate = collection.summaries['bands'].map(band => band.name);\n\t\t\t\t\t\t} catch (error) {}\n\t\t\t\t\t\tif (state.length === 0 && Utils.isObject(collection['cube:dimensions'])) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tlet bandDimension = Object.values(collection['cube:dimensions']).find(d => d.type === 'bands');\n\t\t\t\t\t\t\t\tif (bandDimension && Array.isArray(bandDimension.values)) {\n\t\t\t\t\t\t\t\t\tstate = bandDimension.values;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error) {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'collection-id':\n\t\t\t\t\tstate = this.$store.state.collections;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'job-id':\n\t\t\t\t\tstate = this.$store.state.jobs.jobs;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\t\tstate = this.$store.state.files.files;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'epsg-code':\n\t\t\t\t\tstate = this.$store.state.editor.epsgCodes;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'input-format':\n\t\t\t\t\tstate = this.$store.state.fileFormats.getInputTypes();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\tlet t = require('./api');\n\t\t\t\t\tlet types = {};\n\t\t\t\t\tfor(let native of t.NATIVE_TYPES) {\n\t\t\t\t\t\ttypes[native] = {type: native}\n\t\t\t\t\t}\n\t\t\t\t\tstate = Object.assign(types, t.API_TYPES);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'output-format':\n\t\t\t\t\tstate = this.$store.state.fileFormats.getOutputTypes();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'service-type':\n\t\t\t\t\tstate = this.$store.state.serviceTypes;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'billing-plan':\n\t\t\t\t\tstate = this.$store.state.connection.capabilities().listPlans();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\t\tstate = Object.keys(this.$store.state.udfRuntimes);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\tstate = this.context in this.$store.state.udfRuntimes ? Object.keys(this.$store.state.udfRuntimes[this.context].versions) : [];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstate = this.options;\n\t\t\t}\n\n\t\t\tif (typeof this.optionFilter === 'function' && state && typeof state === 'object') {\n\t\t\t\tif (Utils.isObject(state)) {\n\t\t\t\t\tstate = Object.fromEntries(Object.entries(state).filter(([key, value]) => this.optionFilter(value, key)));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstate = state.filter((value, key) => this.optionFilter(value, key));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet data = [];\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'collection-id':\n\t\t\t\t\treturn state.map(c => this.e(c.id)).sort(this.sortByLabel);\n\t\t\t\tcase 'crs':\n\t\t\t\t\tfor(const id of state) {\n\t\t\t\t\t\tlet label = id.replace('http://www.opengis.net/def/crs/', '');\n\t\t\t\t\t\tlet epsg = label.match(/^EPSG\\/\\d+\\/(\\d+)/i);\n\t\t\t\t\t\tif (epsg) {\n\t\t\t\t\t\t\tlet code = Number.parseInt(epsg[1], 10);\n\t\t\t\t\t\t\tif (code in this.$store.state.editor.epsgCodes) {\n\t\t\t\t\t\t\t\tlabel = this.$store.state.editor.epsgCodes[code] + ` (EPSG:${code})`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet ogc = label.match(/^OGC\\/([^\\/]+)\\/(.+)/i);\n\t\t\t\t\t\tif (ogc) {\n\t\t\t\t\t\t\tlabel = ogc[2] + ` (${id})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.push({ id, label });\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\tcase 'job-id':\n\t\t\t\t\treturn state.map(j => ({\n\t\t\t\t\t\tid: j.id,\n\t\t\t\t\t\tlabel: Utils.getResourceTitle(j)\n\t\t\t\t\t})).sort(this.sortByLabel);\n\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\tfor(let type in state) {\n\t\t\t\t\t\tlet schema = state[type];\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\tid: type,\n\t\t\t\t\t\t\tlabel: schema.title || Utils.prettifyString(type),\n\t\t\t\t\t\t\tvalue: schema\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\tcase 'file-path':\n\t\t\t\tcase 'file-paths':\n\t\t\t\t\treturn state.map(f => this.e(f.path)).sort((a, b) => Utils.sortByPath(a.id, b.id));\n\t\t\t\tcase 'epsg-code':\n\t\t\t\t\tfor(let key in state) {\n\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\tid: Number.parseInt(key, 10),\n\t\t\t\t\t\t\tlabel: key + \": \" + state[key]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn data;\n\t\t\t\tcase 'input-format':\n\t\t\t\tcase 'output-format':\n\t\t\t\tcase 'service-type':\n\t\t\t\t\tfor(let key in state) {\n\t\t\t\t\t\tlet id = key.toUpperCase(); // uppercase mostly for services\n\t\t\t\t\t\t// show title if available...\n\t\t\t\t\t\tlet label = state[key].title;\n\t\t\t\t\t\t// otherwise upper-cased key...\n\t\t\t\t\t\tif (!label) {\n\t\t\t\t\t\t\tlabel = id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// and if title is different from key, also show key\n\t\t\t\t\t\telse if (id !== label.toUpperCase()) {\n\t\t\t\t\t\t\tlabel = `${label} - ${id}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.push({id, label});\n\t\t\t\t\t}\n\t\t\t\t\treturn data.sort(this.sortByLabel);\n\t\t\t\tcase 'billing-plan':\n\t\t\t\t\treturn state.map(p => ({\n\t\t\t\t\t\tid: p.name,\n\t\t\t\t\t\tlabel: p.name + (p.paid ? ' (paid)' : ' (free)')\n\t\t\t\t\t}));\n\t\t\t\tcase 'year':\n\t\t\t\t\tlet thisYear = new Date().getFullYear();\n\t\t\t\t\tlet years = Array.from({length: 100}, (x,i) => this.e(String(thisYear - i)));\n\t\t\t\t\t// Add custom years to select box\n\t\t\t\t\tif (typeof this.value === 'string' && this.value.length > 0 && years.findIndex(y => y.id === this.value) === -1) {\n\t\t\t\t\t\tvar customYear = this.e(this.value);\n\t\t\t\t\t\tif (this.value > thisYear) {\n\t\t\t\t\t\t\tyears.unshift(customYear);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tyears.push(this.e(this.value));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn years;\n\t\t\t\tcase 'band-name':\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\treturn state.map(val => this.e(val));\n\t\t\t\tdefault:\n\t\t\t\t\tif (Utils.isObject(this.schema) && this.schema.isEnum()) {\n\t\t\t\t\t\treturn this.schema.getEnumChoices().map(val => this.e(val));\n\t\t\t\t\t}\n\t\t\t\t\telse if (Array.isArray(this.options)) {\n\t\t\t\t\t\treturn this.options.map(val => {\n\t\t\t\t\t\t\tif (Utils.isObject(val)) {\n\t\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn this.e(val)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowDetails() {\n\t\t\treturn (this.type === 'collection-id');\n\t\t},\n\t\tdeselectLabel() {\n\t\t\treturn this.multiple ? 'Press enter to remove' : '';\n\t\t},\n\t\ttagPlaceholder() {\n\t\t\treturn this.type === 'year' ? 'Press enter to select' : 'Press enter to create a tag';\n\t\t},\n\t\tmultiple() {\n\t\t\treturn (this.type === 'file-paths');\n\t\t},\n\t\ttaggable() {\n\t\t\tlet freeInputIfEmpty = ['band-name', 'collection-id', 'job-id', 'input-format', 'output-format'];\n\t\t\treturn (this.type === 'year' || (this.selectOptions.length === 0 && freeInputIfEmpty.includes(this.type)));\n\t\t},\n\t\tpreselect() {\n\t\t\tif (this.multiple) {\n\t\t\t\treturn (!Array.isArray(this.selected) || this.selected.length === 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (this.selected === null);\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: null,\n\t\t\tloaded: false\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.loadData();\n\t},\n\twatch: {\n\t\ttype() {\n\t\t\tthis.loadData();\n\t\t},\n\t\tselected(newValue) {\n\t\t\tlet value;\n\t\t\tif (newValue === null) {\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t\telse if (this.multiple) {\n\t\t\t\tif (!Array.isArray(newValue)) {\n\t\t\t\t\tnewValue = [newValue];\n\t\t\t\t}\n\t\t\t\tvalue = newValue.map(v => v.id);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tswitch(this.type) {\n\t\t\t\t\tcase 'epsg-code':\n\t\t\t\t\t\tvar num = Number.parseInt(newValue.id);\n\t\t\t\t\t\tvalue = Number.isNaN(num) ? null : num;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'openeo-datatype':\n\t\t\t\t\t\tvalue = newValue.value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'year':\n\t\t\t\t\t\tvalue = String(newValue.id);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = newValue.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tcontext() {\n\t\t\tswitch(this.type) {\n\t\t\t\tcase 'udf-runtime':\n\t\t\t\tcase 'udf-runtime-version':\n\t\t\t\t\tthis.selected = null;\n\t\t\t\t\tthis.preselectFirst();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'band-name':\n\t\t\t\t\tthis.selected = null;\n\t\t\t\t\tthis.loadData();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeCollection']),\n\t\t...Utils.mapActions('editor', ['loadEpsgCodes']),\n\t\t// Convert a value to a option object for MultiSelect\n\t\te(val) {\n\t\t\treturn {\n\t\t\t\tid: val,\n\t\t\t\tlabel: val\n\t\t\t};\n\t\t},\n\t\tasync loadData() {\n\t\t\tthis.loaded = false;\n\t\t\tif (this.type === 'epsg-code' || this.type === 'crs') {\n\t\t\t\tawait this.loadEpsgCodes();\n\t\t\t}\n\t\t\telse if (this.type === 'band-name') {\n\t\t\t\tawait this.describeCollection(this.context);\n\t\t\t}\n\t\t\tthis.initSelection();\n\t\t\tthis.loaded = true;\n\t\t},\n\t\tasync preselectFirst() {\n\t\t\tawait this.$nextTick();\n\t\t\t// Preselect first element if nothing else is set.\n\t\t\tlet elem = this.$refs.htmlElement;\n\t\t\t// Code inspired from mounted() method in vue-multiselect's multiselectMixin.js\n\t\t\tif (elem.preselectFirst && Array.isArray(elem.filteredOptions) && elem.filteredOptions.length) {\n\t\t\t\telem.select(elem.filteredOptions[0]);\n\t\t\t}\n\t\t},\n\t\tinitSelection() {\n\t\t\tlet value = typeof this.value === 'undefined' ? this.schema.default() : this.value;\n\t\t\tif (this.multiple && Array.isArray(value)) {\n\t\t\t\tthis.selected = this.selectOptions.filter(o => value.includes(o.id));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tswitch(this.type) {\n\t\t\t\t\tcase 'input-format':\n\t\t\t\t\tcase 'output-format':\n\t\t\t\t\tcase 'service-type':\n\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\tvalue = value.toUpperCase();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlet selectedOption = this.selectOptions.find(o => o.id === value);\n\t\t\t\tif (selectedOption !== undefined) {\n\t\t\t\t\tthis.selected = selectedOption;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsortByLabel(a,b) {\n\t\t\treturn Utils.compareStringCaseInsensitive(a.label, b.label);\n\t\t},\n\t\taddValue(value) {\n\t\t\tthis.selected = this.e(value);\n\t\t}\n\t}\n}\n</script>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n\n<style lang=\"scss\">\n@import '../../../theme.scss';\n\n.select-container {\n\tdisplay: flex;\n\tflex-grow: 1;\n\n\t> div {\n\t\tflex-grow: 1;\n\t}\n\n\t> button {\n\t\tmargin-left: 10px;\n\t}\n\n\t.multiselect__option--selected.multiselect__option--highlight {\n\t\tbackground: $mainColor;\n\t}\n\t.multiselect__option--highlight, .multiselect__option--highlight:after {\n\t\tbackground: $mainColor;\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectBox.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectBox.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectBox.vue?vue&type=template&id=9fa5f926\"\nimport script from \"./SelectBox.vue?vue&type=script&lang=js\"\nexport * from \"./SelectBox.vue?vue&type=script&lang=js\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&prod&lang=css&external\"\nimport style1 from \"./SelectBox.vue?vue&type=style&index=1&id=9fa5f926&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"step choose-time\"},[_c('p',[_vm._v(_vm._s(_vm.text))]),_c('SelectBox',{attrs:{\"options\":_vm.options,\"value\":_vm.value},on:{\"input\":v => _vm.$emit('input', v)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"step choose-time\">\n\t\t<p>{{ text }}</p>\n\t\t<SelectBox :options=\"options\" :value=\"value\" @input=\"v => $emit('input', v)\" />\n\t</div>\n</template>\n\n<script>\nimport SelectBox from '../../datatypes/SelectBox.vue';\nimport Utils from '../../../utils';\n\nexport default {\n\tname: 'ChooseReducer',\n\tcomponents: {\n\t\tSelectBox\n\t},\n\tprops: {\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\tdefault: \"Please select a method for aggregation:\"\n\t\t},\n\t\tallowEmpty: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: \"mean\"\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapGetters(['processes']),\n\t\toptions() {\t\t\t\n\t\t\tlet reducers = this.processes\n\t\t\t\t.all()\n\t\t\t\t.filter(p => {\n\t\t\t\t\tif (Array.isArray(p.categories) && p.categories.includes(\"reducer\") && Array.isArray(p.parameters) && p.id !== 'array_element') {\n\t\t\t\t\t\tlet params = p.parameters.filter(param => param.optional !== true);\n\t\t\t\t\t\treturn (params.length === 1 && params[0].name === 'data');\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t\t.map(p => ({id: p.id, label: `${p.id} - ${p.summary}`}));\n\t\t\treducers.unshift({id: \"\", label: \"No composite\"});\n\t\t\treturn reducers;\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseReducer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChooseReducer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChooseReducer.vue?vue&type=template&id=7923ec13\"\nimport script from \"./ChooseReducer.vue?vue&type=script&lang=js\"\nexport * from \"./ChooseReducer.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Utils from '../../utils';\nexport const API_TYPES = Utils.resolveJsonRefs(require('@openeo/js-processgraphs/assets/subtype-schemas.json')).definitions;\nexport const NATIVE_TYPES = [\n\t'string',\n\t'integer',\n\t'number',\n\t'boolean',\n\t'array',\n\t'object'\n];"],"names":["render","_vm","this","_c","_self","staticClass","loaded","key","type","ref","attrs","multiple","selectOptions","preselect","editable","deselectLabel","taggable","tagPlaceholder","openDirection","on","addValue","model","value","selected","callback","$$v","expression","showDetails","$event","$emit","_e","_v","staticRenderFns","name","components","MultiSelect","props","String","default","Boolean","options","Array","Object","schema","context","optionFilter","Function","computed","state","collection","$store","collections","find","c","id","Utils","isObject","summaries","map","band","error","length","bandDimension","values","d","isArray","jobs","files","editor","epsgCodes","fileFormats","getInputTypes","t","require","types","native","NATIVE_TYPES","assign","API_TYPES","getOutputTypes","serviceTypes","connection","capabilities","listPlans","keys","udfRuntimes","versions","fromEntries","entries","filter","data","e","sort","sortByLabel","label","replace","epsg","match","code","Number","parseInt","ogc","push","j","getResourceTitle","title","prettifyString","f","path","a","b","sortByPath","toUpperCase","p","paid","thisYear","Date","getFullYear","years","from","x","i","findIndex","y","customYear","unshift","val","isEnum","getEnumChoices","freeInputIfEmpty","includes","created","loadData","watch","newValue","v","num","isNaN","preselectFirst","methods","mapActions","loadEpsgCodes","describeCollection","initSelection","$nextTick","elem","$refs","htmlElement","filteredOptions","select","o","selectedOption","undefined","compareStringCaseInsensitive","component","_s","text","SelectBox","allowEmpty","mapGetters","reducers","processes","all","categories","parameters","params","param","optional","summary","resolveJsonRefs","definitions"],"sourceRoot":""}